{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{Swiper,SwiperSlide}from'swiper/react';import'swiper/css';import NewsSquare from'./components/NewsSquare';import WeatherSquare from'./components/WeatherSquare';import RadioSquare from'./components/RadioSquare';// Import the RadioSquare component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[news,setNews]=useState([]);const[weather,setWeather]=useState(null);// Fetch the latest news\nuseEffect(()=>{fetch('https://api.allorigins.win/get?url=https://www.nrk.no/toppsaker.rss').then(response=>response.json()).then(data=>{const parser=new DOMParser();const xmlDoc=parser.parseFromString(data.contents,'text/xml');const items=xmlDoc.getElementsByTagName('item');const newsData=Array.from(items).slice(0,10).map(item=>{var _item$getElementsByTa,_item$getElementsByTa2;return{title:(item===null||item===void 0?void 0:(_item$getElementsByTa=item.getElementsByTagName('title')[0])===null||_item$getElementsByTa===void 0?void 0:_item$getElementsByTa.textContent)||'No title',image:(item===null||item===void 0?void 0:(_item$getElementsByTa2=item.getElementsByTagName('media:content')[0])===null||_item$getElementsByTa2===void 0?void 0:_item$getElementsByTa2.getAttribute('url'))||'https://via.placeholder.com/300'};});setNews(newsData);}).catch(err=>console.error('Error fetching news:',err));},[]);// Fetch weather data\nuseEffect(()=>{const locationKey=\"59.91,10.75\";// Example for Oslo (latitude, longitude)\nfetch(`https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${locationKey.split(\",\")[0]}&lon=${locationKey.split(\",\")[1]}`).then(response=>response.json()).then(data=>{const now=new Date();const hour=now.getHours();const image=hour<12?'/morningphoto.jpg':hour<18?'/middayphoto.jpg':'/eveningphoto.jpg';const temperature=data.properties.timeseries[0].data.instant.details.air_temperature;const feelsLike=data.properties.timeseries[0].data.instant.details.relative_humidity;setWeather({temperature,feelsLike,image});}).catch(err=>console.error('Error fetching weather:',err));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(Swiper,{direction:\"vertical\",className:\"swiper\",children:[/*#__PURE__*/_jsx(SwiperSlide,{className:\"square\",children:weather&&/*#__PURE__*/_jsx(WeatherSquare,{temperature:weather.temperature,feelsLike:weather.feelsLike,image:weather.image})}),/*#__PURE__*/_jsx(SwiperSlide,{className:\"square\",children:/*#__PURE__*/_jsx(RadioSquare,{})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(Swiper,{direction:\"vertical\",className:\"swiper\",children:news.map((item,index)=>/*#__PURE__*/_jsx(SwiperSlide,{className:\"square\",children:/*#__PURE__*/_jsx(NewsSquare,{title:item.title,image:item.image})},index))})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Swiper","SwiperSlide","NewsSquare","WeatherSquare","RadioSquare","jsx","_jsx","jsxs","_jsxs","App","news","setNews","weather","setWeather","fetch","then","response","json","data","parser","DOMParser","xmlDoc","parseFromString","contents","items","getElementsByTagName","newsData","Array","from","slice","map","item","_item$getElementsByTa","_item$getElementsByTa2","title","textContent","image","getAttribute","catch","err","console","error","locationKey","split","now","Date","hour","getHours","temperature","properties","timeseries","instant","details","air_temperature","feelsLike","relative_humidity","className","children","direction","index"],"sources":["/Users/jacobwernersen/Downloads/swipeable-squares-framework/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/css';\nimport NewsSquare from './components/NewsSquare';\nimport WeatherSquare from './components/WeatherSquare';\nimport RadioSquare from './components/RadioSquare'; // Import the RadioSquare component\n\nconst App = () => {\n    const [news, setNews] = useState([]);\n    const [weather, setWeather] = useState(null);\n\n    // Fetch the latest news\n    useEffect(() => {\n        fetch('https://api.allorigins.win/get?url=https://www.nrk.no/toppsaker.rss')\n            .then((response) => response.json())\n            .then((data) => {\n                const parser = new DOMParser();\n                const xmlDoc = parser.parseFromString(data.contents, 'text/xml');\n                const items = xmlDoc.getElementsByTagName('item');\n\n                const newsData = Array.from(items).slice(0, 10).map((item) => ({\n                    title: item?.getElementsByTagName('title')[0]?.textContent || 'No title',\n                    image:\n                        item?.getElementsByTagName('media:content')[0]?.getAttribute('url') ||\n                        'https://via.placeholder.com/300',\n                }));\n\n                setNews(newsData);\n            })\n            .catch((err) => console.error('Error fetching news:', err));\n    }, []);\n\n    // Fetch weather data\n    useEffect(() => {\n        const locationKey = \"59.91,10.75\"; // Example for Oslo (latitude, longitude)\n        fetch(\n            `https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${locationKey.split(\",\")[0]}&lon=${locationKey.split(\",\")[1]}`\n        )\n            .then((response) => response.json())\n            .then((data) => {\n                const now = new Date();\n                const hour = now.getHours();\n\n                const image =\n                    hour < 12\n                        ? '/morningphoto.jpg'\n                        : hour < 18\n                        ? '/middayphoto.jpg'\n                        : '/eveningphoto.jpg';\n\n                const temperature = data.properties.timeseries[0].data.instant.details.air_temperature;\n                const feelsLike = data.properties.timeseries[0].data.instant.details.relative_humidity;\n\n                setWeather({\n                    temperature,\n                    feelsLike,\n                    image,\n                });\n            })\n            .catch((err) => console.error('Error fetching weather:', err));\n    }, []);\n\n    return (\n        <div className=\"App\">\n            {/* Left column for Weather and Radio */}\n            <div className=\"column\">\n                <Swiper direction=\"vertical\" className=\"swiper\">\n                    <SwiperSlide className=\"square\">\n                        {weather && (\n                            <WeatherSquare\n                                temperature={weather.temperature}\n                                feelsLike={weather.feelsLike}\n                                image={weather.image}\n                            />\n                        )}\n                    </SwiperSlide>\n                    <SwiperSlide className=\"square\">\n                        <RadioSquare />\n                    </SwiperSlide>\n                </Swiper>\n            </div>\n\n            {/* Right column for News */}\n            <div className=\"column\">\n                <Swiper direction=\"vertical\" className=\"swiper\">\n                    {news.map((item, index) => (\n                        <SwiperSlide key={index} className=\"square\">\n                            <NewsSquare title={item.title} image={item.image} />\n                        </SwiperSlide>\n                    ))}\n                </Swiper>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}